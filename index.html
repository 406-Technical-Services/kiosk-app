<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
  <meta name="theme-color" content="#0f3d3a"/>
  <title>Seeley Station Kiosk · 406 Technical Services</title>

  <style>
    :root {
      --bg: #0f3d3a;
      --surface: #0f1a23;
      --accent: #c56a2d;
      --text: #eaf2f5;
      --muted: #97b2b5;
    }
    html, body { height: 100%; margin: 0; background: var(--bg); color: var(--text); font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, 'Helvetica Neue', Arial, 'Noto Sans', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; }
    .wrap { display: grid; place-items: center; height: 100%; }
    .card { background: var(--surface); padding: 28px; border-radius: 20px; box-shadow: 0 10px 28px rgba(0,0,0,.35); width: min(820px, 92vw); }
    h1 { margin: 0 0 8px; font-weight: 800; letter-spacing: .2px; }
    p { margin: 0 0 10px; line-height: 1.55; color: var(--muted); }
    .brand { display:flex; gap:16px; align-items:center; margin-bottom: 10px; }
    .brand img { width:64px; height:64px; border-radius: 12px; object-fit: cover; background:#fff; }
    .badge { display:inline-block; background: rgba(197,106,45,.12); color: var(--accent); border: 1px solid rgba(197,106,45,.5); padding: 4px 10px; border-radius: 999px; font-weight: 700; letter-spacing: .3px; }
    .row { display:flex; gap: 10px; flex-wrap: wrap; margin-top: 14px; }
    button { padding: 12px 16px; border: 0; border-radius: 12px; background: var(--accent); color: white; font-weight: 700; cursor: pointer; }
    button:active { transform: translateY(1px); }
    code { background: rgba(255,255,255,.06); padding: 2px 6px; border-radius: 6px; color: var(--text); }
    a { color: #cfe6ff; }
    footer { margin-top:14px; font-size: 12px; color: var(--muted); }
  </style>

  <link rel="manifest" href="/manifest.webmanifest">
</head>
<body>
  <div class="wrap" oncontextmenu="return false;">
    <div class="card">
      <div class="brand">
        <img src="/logo.svg" alt="406 Technical Services Logo" />
        <div>
          <div class="badge">406 Technical Services</div>
          <h1>Seeley Station Kiosk</h1>
        </div>
      </div>
      <p>This kiosk app is deployed via <b>GitHub Pages</b> and managed remotely on <b>ChromeOS</b>. The same app can run on Linux or Windows kiosk mode.</p>
      <p><b>Environment:</b> <span id="envLabel">dev</span> — URL: <code id="appUrl"></code></p>

      <div class="row">
        <button onclick="goFull()">Go Fullscreen</button>
        <button onclick="toggleEnv()">Toggle Env</button>
        <button onclick="window.location.reload()">Reload</button>
      </div>

      <footer>Powered by 406 Technical Services · Seeley Station</footer>
    </div>
  </div>

  <script>
    function detectEnv() {
      const urlParams = new URLSearchParams(location.search);
      const qs = urlParams.get('env');
      if (qs === 'prod' || qs === 'dev') return qs;
      if (location.hostname.startsWith('kiosk-dev')) return 'dev';
      if (location.hostname.startsWith('kiosk')) return 'prod';
      return 'dev';
    }
    let ENV = detectEnv();
    document.getElementById('envLabel').textContent = ENV;
    document.getElementById('appUrl').textContent = location.href;

    function goFull() {
      const el = document.documentElement;
      if (el.requestFullscreen) el.requestFullscreen();
    }
    function toggleEnv() {
      const next = ENV === 'dev' ? 'prod' : 'dev';
      const u = new URL(location.href);
      u.searchParams.set('env', next);
      location.href = u.toString();
    }

    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/service-worker.js').catch(console.error);
      });
    }
  </script>
</body>
</html>
